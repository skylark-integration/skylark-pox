{"version":3,"sources":["WBind.js"],"names":["define","poxp","WBind","create","init","obj","undefined","i","this","prop","_elem","_check","_func","_tobjs","_getobj","elem","root","e","document","querySelectorAll","length","_getval","v","value","type","checked","o","selected","push","parseFloat","files","prototype","bindHtml","name","func","Object","defineProperty","configurable","get","NodeList","Array","isArray","innerHTML","set","val","bindStyle","css","style","bindAttr","attr","getAttribute","setAttribute","bindInput","exist","_getprop","self","chk","vi","_setval","change","input","addEventListener","ev","log","getCheck","setFunc","f","bindAllInput","base","na","n","bindAll","selector","b","tagName","setTimer","to","ttime","opt","setTimerM","cd","from","isNaN","match","RegExp","$1","sfx","$2","delay","now","Date","getTime","st","et","tl","tc","s","time","console","clearTimer","updateTimer","efunc","t","tfunc","msg","addev","id","event","fn","preventDefault","data","d","getElementById","sel","ee","html"],"mappings":"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","file":"../WBind.js","sourcesContent":["define([\n    \"./poxp\"\n],function(poxp){\n\t//WBind \n\t// license MIT\n\t// 2017 wakufactory \n\tvar WBind = { } \n\n\tWBind.create = function(init) {\n\t\tvar obj = new WBind.obj ;\n\t\tif(init!==undefined) {\n\t\t\tfor(var i in init) {\n\t\t\t\tobj[i] = init[i] ;\n\t\t\t}\n\t\t}\n\t\treturn obj ;\n\t}\n\tWBind.obj = function() {\n\t\tthis.prop = {} ;\n\t\tthis._elem = {} ;\n\t\tthis._check = {} ;\n\t\tthis._func = {} ;\n\t\tthis._tobjs = {} ;\n\t}\n\n\tWBind._getobj = function(elem,root) {\n\t\tif(!root) root = document ;\n\t\tvar e ;\n\t\tif(typeof elem == \"string\") {\n\t\t\te = root.querySelectorAll(elem) ;\n\t\t\tif(e.length==1) e = e[0] ;\n\t\t\tif(e.length==0) e = null ;\n\t\t} else {\n\t\t\te = elem ;\n\t\t}\n\t\treturn e ;\t\t\n\t}\n\tWBind._getval = function(e) {\n\t\tvar v = e.value ;\n\t\tif(e.type==\"checkbox\") {\n\t\t\tv = e.checked ;\n\t\t}\n\t\tif(e.type==\"select-multiple\") {\n\t\t\tvar o = e.querySelectorAll(\"option\") ;\n\t\t\tv = [] ;\n\t\t\tfor(var i=0;i<o.length;i++ ) {\n\t\t\t\tif(o[i].selected) v.push(o[i].value) ;\n\t\t\t}\n\t\t}\n\t\tif(e.type==\"range\") v = parseFloat(v) ;\n\t\tif(e.type==\"file\") v = e.files \n\t\treturn v ;\t\t\n\t}\n\n\t// bind innerHTML\n\tWBind.obj.prototype.bindHtml= function(name,elem,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].innerHTML ;\n\t\t\t\telse this.prop[name] = e.innerHTML ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t//\t\t\t\t\tconsole.log(this._elem[name][i])\n\t\t\t\t\t\tthis._elem[name][i].innerHTML = val \n\t\t\t\t\t}\n\t\t\t\t} else  this._elem[name].innerHTML = val ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].innerHTML ;\n\t\telse this.prop[name] = e.innerHTML ;\n\t\treturn this ;\n\t}\n\t//bind css\n\tWBind.obj.prototype.bindStyle= function(name,elem,css,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\t\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].style[css] ;\n\t\t\t\telse this.prop[name] = e.style[css] ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\t\t\tthis._elem[name][i].style[css] = val \n\t\t\t\t\t}\n\t\t\t\t} else this._elem[name].style[css] = val ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].style[css] ;\n\t\telse this.prop[name] = e.style[css] ;\n\t\treturn this ;\t\n\t}\n\t//bind attribute\n\tWBind.obj.prototype.bindAttr= function(name,elem,attr,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\t\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].getAttribute(attr) ;\n\t\t\t\telse this.prop[name] = e.getAttribute(attr) ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\t\t\tthis._elem[name][i].setAttribute(attr,val) \n\t\t\t\t\t}\n\t\t\t\t} else this._elem[name].setAttribute(attr,val) ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].getAttribute(attr) ;\n\t\telse this.prop[name] = e.getAttribute(attr) ;\n\t\treturn this ;\t\n\t}\n\t// bind input\n\tWBind.obj.prototype.bindInput= function(name,elem,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\n\t\tif((e instanceof NodeList || Array.isArray(e))&&\n\t\t\te[0].type!=\"checkbox\"&&e[0].type!=\"radio\") e = e[0] ;\n\t\tvar exist = (this.prop[name]!=undefined) ;\n\t\tthis._elem[name] = e ;\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tthis.prop[name] = e.value ;\n\t\t\t\tvar v = _getprop(name) ;\n\t\t\t\tif(this._func[name].get) v = this._func[name].get(v) ;\n\t\t\t\treturn v  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\t_setval(name,val) ;\n\t\t\t\tif(this._func[name].change) this._func[name].change(_getprop(name)) ;\n\t\t\t\tif(this._func[name].input) this._func[name].input(_getprop(name)) ;\n\t\t\t}\n\t\t})\n\t\tvar self = this ;\n\t\tvar v = null ;\n\t\t\n\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\n\t\t\tif(e[0].type==\"checkbox\") self._check[name] = {} ;\n\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\tif( typeof e[i] != \"object\") continue ;\n\t\t\t\tif(!exist) e[i].addEventListener(\"change\", function(ev) {\n\t\t\t\t\tvar val ;\n\t\t\t\t\tif(this.type==\"checkbox\" ) {\n\t\t\t\t\t\tself._check[name][this.value] = this.checked ;\n\t\t\t\t\t\tval = _getprop(name);\n\t\t\t\t\t}\n\n\t\t\t\t\telse val = this.value ;\n\t\t\t\t\tself.prop[name] = val ;\n\t\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t\t\t\t\tWBind.log(\"get \"+name+\"=\"+val)\n\t\t\t\t\tif(self._func[name].change) self._func[name].change(val) ;\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif(e[i].type==\"radio\" && e[i].checked) v = e[i].value ;\n\t\t\t\telse if(e[i].type==\"checkbox\" )  {\n\t\t\t\t\tself._check[name][e[i].value] = e[i].checked;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(e[0].type==\"checkbox\") v = _getprop(name);\n\t\t} else {\n\t\t\tv = WBind._getval(e) ;\n\t\t\tif(!exist) e.addEventListener(\"change\", function(ev) {\n\t\t\t\tvar val = WBind._getval(this) ;\n\t\t\t\tself.prop[name] = val ;\n\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t//\t\t\tWBind.log(\"get \"+name+\"=\"+val)\n\t\t\t\tif(self._func[name].change) self._func[name].change(val) ;\n\t\t\t})\n\t\t\tif(!exist) e.addEventListener(\"input\", function(ev) {\n\t\t\t\tvar val = WBind._getval(this) ;\n\t\t\t\tself.prop[name] = val ;\n\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t\t//\t\tWBind.log(\"get \"+name+\"=\"+this.value)\n\t\t\t\tif(self._func[name].input) self._func[name].input(val) ;\n\t\t\t})\n\t\t}\n\t\tif(this._func[name].get) v = this._func[name].get(v) ;\n\t\tthis.prop[name] = v ;\n\t\tif(self._func[name].input) this._func[name].input(v) ;\n\t\tif(self._func[name].change) this._func[name].change(v) ;\n\n\n\t\tfunction _getprop(name) {\n\t\t\tvar v ;\n\t\t\tif(self._check[name]) {\n\t\t\t\tv = [] ;\n\t\t\t\tfor(var i in self._check[name]) {\n\t\t\t\t\tif(self._check[name][i]) v.push(i);\n\t\t\t\t}\n\t\t\t\tself.prop[name] = v ;\n\t\t\t} else  v = self.prop[name] ;\n\t\t\treturn v ;\n\t\t}\n\n\t\tfunction _setval(name,v) {\n\t\t\tvar e = self._elem[name] ;\n\t\t\tif(e instanceof NodeList || Array.isArray(e)) {\n\t\t\t\tif(e[0].type==\"radio\") {\n\t\t\t\t\tfor(var i=0;i<e.length;i++ ) {\n\t\t\t\t\t\tif(e[i].value == v) e[i].checked = true ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(e[0].type==\"checkbox\") {\n\t\t\t\t\tvar chk = {} ;\n\t\t\t\t\tfor(var i=0; i<v.length;i++) {\n\t\t\t\t\t\tchk[v[i]] = true ;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i=0;i<e.length;i++ ) {\n\t\t\t\t\t\te[i].checked = chk[e[i].value] ;\n\t\t\t\t\t}\n\t\t\t\t\tself._check[name] = chk ;\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(e.type==\"checkbox\") e.checked = v ;\n\t\t\telse if(e.type==\"select-multiple\") {\n\t\t\t\tvar o = e.querySelectorAll(\"option\") ;\n\t\t\t\tfor(var i=0;i<o.length;i++ ) {\n\t\t\t\t\to[i].selected = false ;\n\t\t\t\t\tfor(var vi=0;vi<v.length;vi++) {\n\t\t\t\t\t\tif(o[i].value==v[vi]) o[i].selected = true ;\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\n\t\t\t}\n\t\t\telse if(e.type==\"file\") ;\n\t\t\telse e.value = v ;\t\n\t\t}\n\t\treturn this ;\n\t}\n\n\tWBind.obj.prototype.getCheck = function(name) {\n\t\treturn this._check[name] ;\n\t}\n\t//set callback function\n\tWBind.obj.prototype.setFunc = function(name,func) {\n\t\tfor(var f in func) {\n\t\t\tthis._func[name][f] = func[f] ;\n\t\t}\n\t\tvar val = WBind._getval( this._elem[name]) ;\n\t\tif(this._func[name].get) val = this._func[name].get(val) ;\n\t\tthis.prop[name] = val ;\n\t\treturn this._func[name]  ;\n\t}\n\t//bind all input elements\n\tWBind.obj.prototype.bindAllInput = function(base) {\n\t\tif(!base) base = document ;\n\t\tvar o = base.querySelectorAll(\"input,select,textarea\") ;\n\t\tvar na = {} ;\n\t\tfor(var i=0;i<o.length;i++) {\n\t\t\tvar n = o[i].name ;\n\t\t\tif(na[n]) {\n\t\t\t\tif(Array.isArray(na[n])) na[n].push(o[i]) ;\n\t\t\t\telse na[n] = [na[n],o[i]] ;\n\t\t\t} else na[n] = o[i] ;\n\t\t}\n\t\tfor(var i in na) {\n\t\t\tthis.bindInput(i,na[i])\n\t\t}\n\t\treturn na ;\n\t}\n\tWBind.obj.prototype.bindAll = function(selector,base) {\n\t\tif(base==null) base = document ;\n\t\tvar b = base.querySelectorAll(selector) ;\n\t\tfor(var i=0;i<b.length;i++) {\n\t\t\tvar name = b[i].getAttribute(\"data-bind\") ;\n\t\t\tif(b[i].tagName==\"INPUT\"||b[i].tagName==\"SELECT\") {\n\t\t\t\tthis.bindInput(name,b[i]) ;\n\t\t\t} else {\n\t\t\t\tthis.bindHtml(name,b[i])\n\t\t\t}\n\t\t}\n\t}\n\t//bind timer\n\tWBind.obj.prototype.setTimer = function(name,to,ttime,opt) {\n\t\tif(Array.isArray(to)) {\n\t\t\treturn this.setTimerM(name,to) ;\n\t\t}\n\t\tif(!opt) opt = {} ;\n\t\tvar cd ;\n\t\tvar sfx = null ;\n\t\tif(opt.from) cd = opt.from  ;\n\t\telse cd = this[name] ;\n\t\tif(isNaN(cd)) {\n\t\t\tif(cd.match(/^([0-9\\-\\.]+)(.*)$/)) {\n\t\t\t\tcd = parseFloat(RegExp.$1) ;\n\t\t\t\topt.sfx = RegExp.$2 ;\n\t\t\t}\n\t\t\telse cd = 0 ;\t\n\t\t} ;\n\t\tif(cd == to) return this;\n\t\tvar delay = 0 ;\n\t\tif(opt.delay) delay = opt.delay ;\n\t\tvar now = new Date().getTime() ;\n\t\tvar o =  {from:cd,to:to,st:now+delay,et:now+delay+ttime,opt:opt} ;\n\t\tthis._tobjs[name] = {tl:[o],tc:0} ;\n\t//\tWBind.log(o) ;\n\t\treturn this ;\n\t}\n\tWBind.obj.prototype.setTimerM = function(name,s) {\n\t\tvar o = [] ;\n\t\tvar now = new Date().getTime() ;\n\t\tvar cd = this[name] ;\n\t\tfor(var i=0;i<s.length;i++) {\n\t\t\tvar to = s[i].to ;\n\t\t\tvar ttime = s[i].time ;\n\t\t\tvar opt = s[i].opt ;\n\t\t\tif(!opt) opt = {} ;\n\n\t\t\tvar sfx = null ;\n\t\t\tif(isNaN(cd)) {\n\t\t\t\tif(cd.match(/^([0-9\\-\\.]+)(.*)$/)) {\n\t\t\t\t\tcd = parseFloat(RegExp.$1) ;\n\t\t\t\t\topt.sfx = RegExp.$2 ;\n\t\t\t\t}\n\t\t\t\telse cd = 0 ;\t\n\t\t\t} ;\n\t//\t\tif(cd == to) continue ;\n\t\t\tvar delay = 0 ;\n\t\t\tif(opt.delay) delay = opt.delay ;\n\t\t\to.push({from:cd,to:to,st:now+delay,et:now+delay+ttime,opt:opt}) ;\n\t\t\tcd = to ;\n\t\t}\n\t\tthis._tobjs[name] = {tl:o,tc:0} ;\n\t\tconsole.log(o);\n\t\treturn this ;\n\t}\n\tWBind.obj.prototype.clearTimer = function(name) {\n\t\tdelete(this._tobjs[name])\n\t}\n\tWBind.obj.prototype.updateTimer = function() {\n\t\tvar now = new Date().getTime() ;\n\t\tfor(var name in this._tobjs) {\n\t\t\tvar obj = (this._tobjs[name])\n\t\t\tvar o = obj.tl[obj.tc] ;\n\t//\t\tconsole.log(o);\n\t\t\tif(o===undefined) continue ;\n\t\t\t\n\t\t\tif(o.st>now) continue ;\n\t\t\tif(o.et<=now) {\n\t\t\t\tvar v = o.to ;\n\t\t\t\tif(o.opt.sfx) v = v + o.opt.sfx ;\n\t\t\t\tthis[name] = v ;\n\t//\t\t\tWBind.log(\"timeup \"+o.key) ;\n\t\t\t\tobj.tc++ ;\n\t\t\t\tif(this._tobjs[name].tl.length<obj.tc) delete(this._tobjs[name]) ;\n\t\t\t\tif(o.opt.efunc) o.opt.efunc(o.to) ;\n\n\t\t\t} else {\n\t\t\t\tvar t = (now-o.st)/(o.et-o.st) ;\n\t\t\t\tif(o.opt.tfunc) {\n\t\t\t\t\tif(typeof o.opt.tfunc ==\"string\") {\n\t\t\t\t\t\tswitch(o.opt.tfunc) {\n\t\t\t\t\t\t\tcase \"ease-in\":\n\t\t\t\t\t\t\t\tt = t*t ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ease-out\":\n\t\t\t\t\t\t\t\tt = t*(2-t) ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ease-inout\":\n\t\t\t\t\t\t\t\tt = t*t*(3-2*t) ;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else t = o.opt.tfunc(t) ;\n\t\t\t\t}\n\t\t\t\tvar v = o.from + (o.to-o.from)* t;\n\t\t\t\tif(o.opt.sfx) v = v + o.opt.sfx ;\n\t//\t\t\tWBind.log(o.key+\"=\"+v) ;\n\t\t\t\tthis[name] = v ;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t//utils\n\tWBind.log = function(msg) {\n\t\tconsole.log(msg) ;\n\t}\n\tWBind.addev = function(id,event,fn,root) {\n\t\tvar e = WBind._getobj(id,root) ;\n\t\tif(e) {\n\t\t\tif(!(e instanceof NodeList) && !Array.isArray(e)) e = [e] \n\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\te[i].addEventListener(event,function(ev) {\n\t\t\t\t\tif(!fn(ev)) ev.preventDefault() ;\n\t\t\t\t}) ;\n\t\t\t}\n\t\t}\n\t}\n\tWBind.set = function(data,root) {\n\t\tif(!root) root = document ;\n\t\tif(!(data instanceof Array)) data = [data] ;\n\n\t\tfor(var i =0;i<data.length;i++) {\n\t\t\tvar d = data[i] ;\n\t\t\tvar e ;\n\t\t\tif(d.obj) e = WBind._getobj(d.obj,root) ;\n\t\t\tif(d.id) e = root.getElementById(d.id) ;\n\t\t\tif(d.sel) e = root.querySelectorAll(d.sel) ;\n\t\t\tif(!e) continue ;\n\t\t\tif(!(e instanceof NodeList || Array.isArray(e))) e = [e] ;\n\t\t\tfor(var ee=0;ee<e.length;ee++ ) {\n\t\t\t\tif(d.html !=undefined) e[ee].innerHTML = d.html ;\n\t\t\t\tif(d.value !=undefined) e[ee].value = d.value ;\n\t\t\t\tif(d.attr !=undefined) e[ee].setAttribute(d.attr,d.value) ;\n\t\t\t\tif(d.style !=undefined) {\n\t\t\t\t\tfor(s in d.style) e[ee].style[s] = d.style[s] ;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn poxp.WBind = WBind;\n});\n"]}
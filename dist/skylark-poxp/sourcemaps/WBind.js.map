{"version":3,"sources":["WBind.js"],"names":["define","pox","WBind","create","init","obj","undefined","i","this","prop","_elem","_check","_func","_tobjs","_getobj","elem","root","e","document","querySelectorAll","length","_getval","v","value","type","checked","o","selected","push","parseFloat","prototype","bindHtml","name","func","Object","defineProperty","configurable","get","NodeList","Array","isArray","innerHTML","set","val","bindStyle","css","style","bindAttr","attr","getAttribute","setAttribute","bindInput","exist","_getprop","self","chk","vi","_setval","change","input","addEventListener","ev","log","getCheck","setFunc","f","bindAllInput","base","na","n","bindAll","selector","b","tagName","setTimer","to","ttime","opt","setTimerM","cd","from","isNaN","match","RegExp","$1","sfx","$2","delay","now","Date","getTime","st","et","tl","tc","s","time","console","clearTimer","updateTimer","efunc","t","tfunc","msg","addev","id","event","fn","preventDefault","data","d","getElementById","sel","ee","html"],"mappings":"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","file":"../WBind.js","sourcesContent":["define([\n    \"./pox\"\n],function(pox){\n\t//WBind \n\t// license MIT\n\t// 2017 wakufactory \n\tWBind = { } \n\n\tWBind.create = function(init) {\n\t\tvar obj = new WBind.obj ;\n\t\tif(init!==undefined) {\n\t\t\tfor(var i in init) {\n\t\t\t\tobj[i] = init[i] ;\n\t\t\t}\n\t\t}\n\t\treturn obj ;\n\t}\n\tWBind.obj = function() {\n\t\tthis.prop = {} ;\n\t\tthis._elem = {} ;\n\t\tthis._check = {} ;\n\t\tthis._func = {} ;\n\t\tthis._tobjs = {} ;\n\t}\n\n\tWBind._getobj = function(elem,root) {\n\t\tif(!root) root = document ;\n\t\tvar e ;\n\t\tif(typeof elem == \"string\") {\n\t\t\te = root.querySelectorAll(elem) ;\n\t\t\tif(e.length==1) e = e[0] ;\n\t\t\tif(e.length==0) e = null ;\n\t\t} else {\n\t\t\te = elem ;\n\t\t}\n\t\treturn e ;\t\t\n\t}\n\tWBind._getval = function(e) {\n\t\tvar v = e.value ;\n\t\tif(e.type==\"checkbox\") {\n\t\t\tv = e.checked ;\n\t\t}\n\t\tif(e.type==\"select-multiple\") {\n\t\t\tvar o = e.querySelectorAll(\"option\") ;\n\t\t\tv = [] ;\n\t\t\tfor(var i=0;i<o.length;i++ ) {\n\t\t\t\tif(o[i].selected) v.push(o[i].value) ;\n\t\t\t}\n\t\t}\n\t\tif(e.type==\"range\") v = parseFloat(v) ;\n\t\treturn v ;\t\t\n\t}\n\n\t// bind innerHTML\n\tWBind.obj.prototype.bindHtml= function(name,elem,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].innerHTML ;\n\t\t\t\telse this.prop[name] = e.innerHTML ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t//\t\t\t\t\tconsole.log(this._elem[name][i])\n\t\t\t\t\t\tthis._elem[name][i].innerHTML = val \n\t\t\t\t\t}\n\t\t\t\t} else  this._elem[name].innerHTML = val ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].innerHTML ;\n\t\telse this.prop[name] = e.innerHTML ;\n\t\treturn this ;\n\t}\n\t//bind css\n\tWBind.obj.prototype.bindStyle= function(name,elem,css,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\t\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].style[css] ;\n\t\t\t\telse this.prop[name] = e.style[css] ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\t\t\tthis._elem[name][i].style[css] = val \n\t\t\t\t\t}\n\t\t\t\t} else this._elem[name].style[css] = val ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].style[css] ;\n\t\telse this.prop[name] = e.style[css] ;\n\t\treturn this ;\t\n\t}\n\t//bind attribute\n\tWBind.obj.prototype.bindAttr= function(name,elem,attr,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\t\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].getAttribute(attr) ;\n\t\t\t\telse this.prop[name] = e.getAttribute(attr) ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\t\t\tthis._elem[name][i].setAttribute(attr,val) \n\t\t\t\t\t}\n\t\t\t\t} else this._elem[name].setAttribute(attr,val) ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].getAttribute(attr) ;\n\t\telse this.prop[name] = e.getAttribute(attr) ;\n\t\treturn this ;\t\n\t}\n\t// bind input\n\tWBind.obj.prototype.bindInput= function(name,elem,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\n\t\tif((e instanceof NodeList || Array.isArray(e))&&\n\t\t\te[0].type!=\"checkbox\"&&e[0].type!=\"radio\") e = e[0] ;\n\t\tvar exist = (this.prop[name]!=undefined) ;\n\t\tthis._elem[name] = e ;\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tthis.prop[name] = e.value ;\n\t\t\t\tvar v = _getprop(name) ;\n\t\t\t\tif(this._func[name].get) v = this._func[name].get(v) ;\n\t\t\t\treturn v  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\t_setval(name,val) ;\n\t\t\t\tif(this._func[name].change) this._func[name].change(_getprop(name)) ;\n\t\t\t\tif(this._func[name].input) this._func[name].input(_getprop(name)) ;\n\t\t\t}\n\t\t})\n\t\tvar self = this ;\n\t\tvar v = null ;\n\t\t\n\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\n\t\t\tif(e[0].type==\"checkbox\") self._check[name] = {} ;\n\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\tif( typeof e[i] != \"object\") continue ;\n\t\t\t\tif(!exist) e[i].addEventListener(\"change\", function(ev) {\n\t\t\t\t\tvar val ;\n\t\t\t\t\tif(this.type==\"checkbox\" ) {\n\t\t\t\t\t\tself._check[name][this.value] = this.checked ;\n\t\t\t\t\t\tval = _getprop(name);\n\t\t\t\t\t}\n\t\t\t\t\telse val = this.value ;\n\t\t\t\t\tself.prop[name] = val ;\n\t\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t\t\t\t\tWBind.log(\"get \"+name+\"=\"+val)\n\t\t\t\t\tif(self._func[name].change) self._func[name].change(val) ;\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif(e[i].type==\"radio\" && e[i].checked) v = e[i].value ;\n\t\t\t\telse if(e[i].type==\"checkbox\" )  {\n\t\t\t\t\tself._check[name][e[i].value] = e[i].checked;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(e[0].type==\"checkbox\") v = _getprop(name);\n\t\t} else {\n\t\t\tv = WBind._getval(e) ;\n\t\t\tif(!exist) e.addEventListener(\"change\", function(ev) {\n\t\t\t\tvar val = WBind._getval(this) ;\n\t\t\t\tself.prop[name] = val ;\n\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t//\t\t\tWBind.log(\"get \"+name+\"=\"+val)\n\t\t\t\tif(self._func[name].change) self._func[name].change(val) ;\n\t\t\t})\n\t\t\tif(!exist) e.addEventListener(\"input\", function(ev) {\n\t\t\t\tvar val = WBind._getval(this) ;\n\t\t\t\tself.prop[name] = val ;\n\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t\t//\t\tWBind.log(\"get \"+name+\"=\"+this.value)\n\t\t\t\tif(self._func[name].input) self._func[name].input(val) ;\n\t\t\t})\n\t\t}\n\t\tif(this._func[name].get) v = this._func[name].get(v) ;\n\t\tthis.prop[name] = v ;\n\t\tif(self._func[name].input) this._func[name].input(v) ;\n\t\tif(self._func[name].change) this._func[name].change(v) ;\n\n\n\t\tfunction _getprop(name) {\n\t\t\tvar v ;\n\t\t\tif(self._check[name]) {\n\t\t\t\tv = [] ;\n\t\t\t\tfor(var i in self._check[name]) {\n\t\t\t\t\tif(self._check[name][i]) v.push(i);\n\t\t\t\t}\n\t\t\t\tself.prop[name] = v ;\n\t\t\t} else  v = self.prop[name] ;\n\t\t\treturn v ;\n\t\t}\n\n\t\tfunction _setval(name,v) {\n\t\t\tvar e = self._elem[name] ;\n\t\t\tif(e instanceof NodeList || Array.isArray(e)) {\n\t\t\t\tif(e[0].type==\"radio\") {\n\t\t\t\t\tfor(var i=0;i<e.length;i++ ) {\n\t\t\t\t\t\tif(e[i].value == v) e[i].checked = true ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(e[0].type==\"checkbox\") {\n\t\t\t\t\tvar chk = {} ;\n\t\t\t\t\tfor(var i=0; i<v.length;i++) {\n\t\t\t\t\t\tchk[v[i]] = true ;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i=0;i<e.length;i++ ) {\n\t\t\t\t\t\te[i].checked = chk[e[i].value] ;\n\t\t\t\t\t}\n\t\t\t\t\tself._check[name] = chk ;\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(e.type==\"checkbox\") e.checked = v ;\n\t\t\telse if(e.type==\"select-multiple\") {\n\t\t\t\tvar o = e.querySelectorAll(\"option\") ;\n\t\t\t\tfor(var i=0;i<o.length;i++ ) {\n\t\t\t\t\to[i].selected = false ;\n\t\t\t\t\tfor(var vi=0;vi<v.length;vi++) {\n\t\t\t\t\t\tif(o[i].value==v[vi]) o[i].selected = true ;\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\n\t\t\t}\n\t\t\telse e.value = v ;\t\n\t\t}\n\t\treturn this ;\n\t}\n\n\tWBind.obj.prototype.getCheck = function(name) {\n\t\treturn this._check[name] ;\n\t}\n\t//set callback function\n\tWBind.obj.prototype.setFunc = function(name,func) {\n\t\tfor(var f in func) {\n\t\t\tthis._func[name][f] = func[f] ;\n\t\t}\n\t\tvar val = WBind._getval( this._elem[name]) ;\n\t\tif(this._func[name].get) val = this._func[name].get(val) ;\n\t\tthis.prop[name] = val ;\n\t\treturn this._func[name]  ;\n\t}\n\t//bind all input elements\n\tWBind.obj.prototype.bindAllInput = function(base) {\n\t\tif(!base) base = document ;\n\t\tvar o = base.querySelectorAll(\"input,select,textarea\") ;\n\t\tvar na = {} ;\n\t\tfor(var i=0;i<o.length;i++) {\n\t\t\tvar n = o[i].name ;\n\t\t\tif(na[n]) {\n\t\t\t\tif(Array.isArray(na[n])) na[n].push(o[i]) ;\n\t\t\t\telse na[n] = [na[n],o[i]] ;\n\t\t\t} else na[n] = o[i] ;\n\t\t}\n\t\tfor(var i in na) {\n\t\t\tthis.bindInput(i,na[i])\n\t\t}\n\t\treturn na ;\n\t}\n\tWBind.obj.prototype.bindAll = function(selector,base) {\n\t\tif(base==null) base = document ;\n\t\tvar b = base.querySelectorAll(selector) ;\n\t\tfor(var i=0;i<b.length;i++) {\n\t\t\tvar name = b[i].getAttribute(\"data-bind\") ;\n\t\t\tif(b[i].tagName==\"INPUT\"||b[i].tagName==\"SELECT\") {\n\t\t\t\tthis.bindInput(name,b[i]) ;\n\t\t\t} else {\n\t\t\t\tthis.bindHtml(name,b[i])\n\t\t\t}\n\t\t}\n\t}\n\t//bind timer\n\tWBind.obj.prototype.setTimer = function(name,to,ttime,opt) {\n\t\tif(Array.isArray(to)) {\n\t\t\treturn this.setTimerM(name,to) ;\n\t\t}\n\t\tif(!opt) opt = {} ;\n\t\tvar cd ;\n\t\tvar sfx = null ;\n\t\tif(opt.from) cd = opt.from  ;\n\t\telse cd = this[name] ;\n\t\tif(isNaN(cd)) {\n\t\t\tif(cd.match(/^([0-9\\-\\.]+)(.*)$/)) {\n\t\t\t\tcd = parseFloat(RegExp.$1) ;\n\t\t\t\topt.sfx = RegExp.$2 ;\n\t\t\t}\n\t\t\telse cd = 0 ;\t\n\t\t} ;\n\t\tif(cd == to) return this;\n\t\tvar delay = 0 ;\n\t\tif(opt.delay) delay = opt.delay ;\n\t\tvar now = new Date().getTime() ;\n\t\tvar o =  {from:cd,to:to,st:now+delay,et:now+delay+ttime,opt:opt} ;\n\t\tthis._tobjs[name] = {tl:[o],tc:0} ;\n\t//\tWBind.log(o) ;\n\t\treturn this ;\n\t}\n\tWBind.obj.prototype.setTimerM = function(name,s) {\n\t\tvar o = [] ;\n\t\tvar now = new Date().getTime() ;\n\t\tvar cd = this[name] ;\n\t\tfor(var i=0;i<s.length;i++) {\n\t\t\tvar to = s[i].to ;\n\t\t\tvar ttime = s[i].time ;\n\t\t\tvar opt = s[i].opt ;\n\t\t\tif(!opt) opt = {} ;\n\n\t\t\tvar sfx = null ;\n\t\t\tif(isNaN(cd)) {\n\t\t\t\tif(cd.match(/^([0-9\\-\\.]+)(.*)$/)) {\n\t\t\t\t\tcd = parseFloat(RegExp.$1) ;\n\t\t\t\t\topt.sfx = RegExp.$2 ;\n\t\t\t\t}\n\t\t\t\telse cd = 0 ;\t\n\t\t\t} ;\n\t//\t\tif(cd == to) continue ;\n\t\t\tvar delay = 0 ;\n\t\t\tif(opt.delay) delay = opt.delay ;\n\t\t\to.push({from:cd,to:to,st:now+delay,et:now+delay+ttime,opt:opt}) ;\n\t\t\tcd = to ;\n\t\t}\n\t\tthis._tobjs[name] = {tl:o,tc:0} ;\n\t\tconsole.log(o);\n\t\treturn this ;\n\t}\n\tWBind.obj.prototype.clearTimer = function(name) {\n\t\tdelete(this._tobjs[name])\n\t}\n\tWBind.obj.prototype.updateTimer = function() {\n\t\tvar now = new Date().getTime() ;\n\t\tfor(var name in this._tobjs) {\n\t\t\tvar obj = (this._tobjs[name])\n\t\t\tvar o = obj.tl[obj.tc] ;\n\t//\t\tconsole.log(o);\n\t\t\tif(o===undefined) continue ;\n\t\t\t\n\t\t\tif(o.st>now) continue ;\n\t\t\tif(o.et<=now) {\n\t\t\t\tvar v = o.to ;\n\t\t\t\tif(o.opt.sfx) v = v + o.opt.sfx ;\n\t\t\t\tthis[name] = v ;\n\t//\t\t\tWBind.log(\"timeup \"+o.key) ;\n\t\t\t\tobj.tc++ ;\n\t\t\t\tif(this._tobjs[name].tl.length<obj.tc) delete(this._tobjs[name]) ;\n\t\t\t\tif(o.opt.efunc) o.opt.efunc(o.to) ;\n\n\t\t\t} else {\n\t\t\t\tvar t = (now-o.st)/(o.et-o.st) ;\n\t\t\t\tif(o.opt.tfunc) {\n\t\t\t\t\tif(typeof o.opt.tfunc ==\"string\") {\n\t\t\t\t\t\tswitch(o.opt.tfunc) {\n\t\t\t\t\t\t\tcase \"ease-in\":\n\t\t\t\t\t\t\t\tt = t*t ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ease-out\":\n\t\t\t\t\t\t\t\tt = t*(2-t) ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ease-inout\":\n\t\t\t\t\t\t\t\tt = t*t*(3-2*t) ;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else t = o.opt.tfunc(t) ;\n\t\t\t\t}\n\t\t\t\tvar v = o.from + (o.to-o.from)* t;\n\t\t\t\tif(o.opt.sfx) v = v + o.opt.sfx ;\n\t//\t\t\tWBind.log(o.key+\"=\"+v) ;\n\t\t\t\tthis[name] = v ;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t//utils\n\tWBind.log = function(msg) {\n\t\tconsole.log(msg) ;\n\t}\n\tWBind.addev = function(id,event,fn,root) {\n\t\tvar e = WBind._getobj(id,root) ;\n\t\tif(e) {\n\t\t\tif(!(e instanceof NodeList) && !Array.isArray(e)) e = [e] \n\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\te[i].addEventListener(event,function(ev) {\n\t\t\t\t\tif(!fn(ev)) ev.preventDefault() ;\n\t\t\t\t}) ;\n\t\t\t}\n\t\t}\n\t}\n\tWBind.set = function(data,root) {\n\t\tif(!root) root = document ;\n\t\tif(!(data instanceof Array)) data = [data] ;\n\n\t\tfor(var i =0;i<data.length;i++) {\n\t\t\tvar d = data[i] ;\n\t\t\tvar e ;\n\t\t\tif(d.obj) e = WBind._getobj(d.obj,root) ;\n\t\t\tif(d.id) e = root.getElementById(d.id) ;\n\t\t\tif(d.sel) e = root.querySelectorAll(d.sel) ;\n\t\t\tif(!e) continue ;\n\t\t\tif(!(e instanceof NodeList || Array.isArray(e))) e = [e] ;\n\t\t\tfor(var ee=0;ee<e.length;ee++ ) {\n\t\t\t\tif(d.html !=undefined) e[ee].innerHTML = d.html ;\n\t\t\t\tif(d.value !=undefined) e[ee].value = d.value ;\n\t\t\t\tif(d.attr !=undefined) e[ee].setAttribute(d.attr,d.value) ;\n\t\t\t\tif(d.style !=undefined) {\n\t\t\t\t\tfor(s in d.style) e[ee].style[s] = d.style[s] ;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn pox.WBind = WBind;\n});\n"]}
{"version":3,"sources":["PoxProfile.js"],"names":["define","poxp","PoxProfile","[object Object]","this","args","m","pox","log","dt","Date","toLocaleTimeString","getUTCMilliseconds","toString","substr","o","lv","ret","Array","isArray","join","k","dumpobj","level","lognow","models","render","data","model","id","name","geo","mode","vtx","length","obuf","tl","idx","inst","count","d","getModelData","i","vs_uni","fs_uni"],"mappings":";;;;;;;AAAAA,QACI,UACF,SAASC,GA8DV,OAAOA,EAAKC,iBA5DXC,YAAYF,GACXG,KAAKH,KAAOA,EAEbE,OAAOE,GACN,IAAI,IAAIC,KAAKD,EACZD,KAAKH,KAAKM,IAAIC,IAAIF,GAGpBH,SACC,IAAIM,EAAK,IAAIC,KACbN,KAAKH,KAAKM,IAAIC,IAAI,IAAIC,EAAGE,qBAAqB,KAAK,KAAKF,EAAGG,qBAAqBC,YAAYC,QAAQ,GAAG,KAExGX,QAAQY,EAAEC,EAAG,GACZ,IAAIC,EAAOF,EACX,GAAO,GAAJC,EAAM,OAAOC,EAChB,GAAGC,MAAMC,QAAQJ,GAAIE,EAAO,IAAIF,EAAEK,KAAK,KAAK,SACvC,GAAe,iBAALL,EAAe,CAC7BE,EAAM,IACN,IAAI,IAAII,KAAKN,EACZE,GAAOI,EAAE,IAAIjB,KAAKkB,QAAQP,EAAEM,GAAGL,EAAG,GAAG,IAEtCC,GAAO,IAER,OAAOA,EAERd,OAAOY,EAAEQ,EAAM,GACdnB,KAAKI,IAAIJ,KAAKkB,QAAQP,EAAEQ,IAEzBpB,aACCC,KAAKoB,SACL,MAAMC,EAASrB,KAAKH,KAAKyB,OAAOC,KAAKC,MACrC,IAAI,IAAItB,KAAKmB,EACZrB,KAAKI,IACJ,MAAMF,EAAEuB,GACR,UAAUvB,EAAEwB,KACZ,UAAUxB,EAAEyB,IAAIC,KAChB,SAAS1B,EAAEyB,IAAIE,IAAIC,OAAO5B,EAAE6B,KAAKC,IAC/B9B,EAAEyB,IAAIM,KAAKjC,KAAKI,IAElB,SAASF,EAAEyB,IAAIM,KAAO/B,EAAEyB,IAAIM,IAAIH,QAC9B5B,EAAEgC,MAAMlC,KAAKI,IACf,UAAUF,EAAEgC,KAAKC,OAIpBpC,aAAayB,GACZ,MAAMY,EAAIpC,KAAKH,KAAKM,IAAIkC,aAAab,GACrC,GAAIY,EAAJ,CACApC,KAAKoB,SACLpB,KAAKI,IAAI,UACT,IAAI,IAAIkC,KAAKF,EAAEG,OACdvC,KAAKI,IAAI,KAAKkC,EAAE,MAAMF,EAAEG,OAAOD,IAEhCtC,KAAKI,IAAI,UACT,IAAI,IAAIkC,KAAKF,EAAEI,OACdxC,KAAKI,IAAI,KAAKkC,EAAE,MAAMF,EAAEI,OAAOF","file":"../PoxProfile.js","sourcesContent":["define([\n    \"./poxp\"\n],function(poxp){\n\tclass PoxProfile {\n\t\tconstructor(poxp) {\n\t\t\tthis.poxp = poxp \n\t\t}\n\t\tlog(...args) {\n\t\t\tfor(let m of args) {\n\t\t\t\tthis.poxp.pox.log(m)\n\t\t\t}\n\t\t}\n\t\tlognow() {\n\t\t\tlet dt = new Date() \n\t\t\tthis.poxp.pox.log(\"[\"+dt.toLocaleTimeString()+\".\"+(\"00\"+dt.getUTCMilliseconds().toString()).substr(-3)+\"]\")\n\t\t}\n\t\tdumpobj(o,lv=1) {\n\t\t\tlet ret  = o\n\t\t\tif(lv==0)return ret \n\t\t\tif(Array.isArray(o)) ret =  \"[\"+o.join(\",\")+\"]\"\n\t\t\telse if(typeof o == \"object\") {\n\t\t\t\tret = \"{\"\n\t\t\t\tfor(let k in o) {\n\t\t\t\t\tret += k+\":\"+this.dumpobj(o[k],lv-1)+\",\"\n\t\t\t\t}\n\t\t\t\tret += \"}\"\n\t\t\t}\n\t\t\treturn ret \n\t\t}\n\t\tlogobj(o,level=1) {\n\t\t\tthis.log(this.dumpobj(o,level))\n\t\t}\n\t\tdumpModels() {\n\t\t\tthis.lognow()\n\t\t\tconst models = this.poxp.render.data.model\n\t\t\tfor(let m of models) {\n\t\t\t\tthis.log(\n\t\t\t\t\t\"id:\"+m.id,\n\t\t\t\t\t\"  name:\"+m.name,\n\t\t\t\t\t\"  mode:\"+m.geo.mode,\n\t\t\t\t\t\"  vtx:\"+m.geo.vtx.length/m.obuf.tl)\n\t\t\t\tif(m.geo.idx) this.log(\n\t\t\t\t\t//\"  idx:\"+m.geo.idx?.length)\n\t\t\t\t\t\"  idx:\"+m.geo.idx && m.geo.idx.length) // modified by lwf\n\t\t\t\tif(m.inst) this.log(\n\t\t\t\t\t\"  inst:\"+m.inst.count)\n\t\t\t}\n\t\t}\n\n\t\tdumpModelUni(model) {\n\t\t\tconst d = this.poxp.pox.getModelData(model)\n\t\t\tif(!d) return \n\t\t\tthis.lognow()\n\t\t\tthis.log(\"vs_uni\")\n\t\t\tfor(let i in d.vs_uni) {\n\t\t\t\tthis.log(\"  \"+i+\" = \"+d.vs_uni[i])\n\t\t\t}\n\t\t\tthis.log(\"fs_uni\")\n\t\t\tfor(let i in d.fs_uni) {\n\t\t\t\tthis.log(\"  \"+i+\" = \"+d.fs_uni[i])\n\t\t\t}\n\t\t}\n\t}\n\n\treturn poxp.PoxProfile = PoxProfile;\n});"]}
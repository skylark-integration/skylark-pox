{"version":3,"sources":["Vector.js"],"names":["define","poxp","Vector","Array","[object Object]","args","v","isArray","super","x","this","y","z","w","r","g","b","a","xy","yx","xz","zx","yz","zy","xyz","xzy","yxz","yzx","zxy","zyx","rgb","vec","length","ratio","map","i","tgt","fill","l","hypot","Math","floor","ceil","min","max","th","reduce","sub"],"mappings":"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","file":"../Vector.js","sourcesContent":["define([\n    \"./poxp\"\n],function(poxp){\n\tclass Vector extends Array {\n\t\tconstructor(...args) {\n\t\t\tlet v = args \n\t\t\tif(Array.isArray(args[0])) v = args[0]\n\t\t\tsuper(...v)\n\t\t}\n\t\tset x(v) {this[0] = v}\n\t\tset y(v) {this[1] = v}\n\t\tset z(v) {this[2] = v}\n\t\tset w(v) {this[3] = v}\n\t\tset r(v) {this[0] = v}\n\t\tset g(v) {this[1] = v}\n\t\tset b(v) {this[2] = v}\n\t\tset a(v) {this[3] = v}\n\t\tget x() { return this[0]}\n\t\tget y() { return this[1]}\n\t\tget z() { return this[2]}\n\t\tget w() { return this[3]}\n\t\tget r() { return this[0]}\n\t\tget g() { return this[1]}\n\t\tget b() { return this[2]}\n\t\tget a() { return this[3]}\n\t//retrun new vector\n\t\tget xy() { return new Vector(this[0],this[1])}\n\t\tget yx() { return new Vector(this[1],this[0])}\n\t\tget xz() { return new Vector(this[0],this[2])}\n\t\tget zx() { return new Vector(this[2],this[0])}\n\t\tget yz() { return new Vector(this[1],this[2])}\n\t\tget zy() { return new Vector(this[2],this[1])}\n\t\tget xyz() { return new Vector(this[0],this[1],this[2])}\n\t\tget xzy() { return new Vector(this[0],this[2],this[1])}\n\t\tget yxz() { return new Vector(this[1],this[0],this[2])}\n\t\tget yzx() { return new Vector(this[1],this[2],this[0])}\n\t\tget zxy() { return new Vector(this[2],this[0],this[1])}\n\t\tget zyx() { return new Vector(this[2],this[1],this[0])}\n\t\tget rgb() { return new Vector(this[0],this[1],this[2])}\n\n\t\tcross(vec) {\n\t\t\tif(this.length!=3 || vec.length!=3 ) throw -1 \n\t\t\tlet r = [\n\t\t\t\tthis[1]*vec[2] - this[2] * vec[1],\n\t\t\t\tthis[2]*vec[0] - this[0] * vec[2],\n\t\t\t\tthis[0]*vec[1] - this[1] * vec[0] \n\t\t\t\t]\n\t\t\treturn new Vector(r) \n\t\t}\n\t\tmix(vec ,ratio ) {\n\t\t\treturn new Vector(this.map((v,i)=>v*(1-ratio)+vec[i]*ratio)) \n\t\t}\n\n\t\tinvert() {\n\t\t\treturn new Vector(this.map(v=>-v)) \n\t\t}\n\t\tadd(tgt) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\tif(this.length!=tgt.length) throw -1\n\t\t\treturn new Vector(this.map((v,i)=>v+tgt[i])) \n\t\t}\n\t\tsub(tgt) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\tif(this.length!=tgt.length) throw -1\n\t\t\treturn new Vector(this.map((v,i)=>v-tgt[i])) \n\t\t}\n\t\tmult(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>v*tgt[i])) \t\n\t\t}\n\t\tnormalize() {\n\t\t\tlet l = this.hypot() \n\t\t\treturn new Vector(this.map((v,i)=>(l!=0)?v/l:0)) \n\t\t}\n\t\tfloor() {\n\t\t\treturn new Vector(this.map((v,i)=>Math.floor(v))) \t\n\t\t}\n\t\tceil() {\n\t\t\treturn new Vector(this.map((v,i)=>Math.ceil(v))) \t\t\n\t\t}\n\t\tfract() {\n\t\t\treturn new Vector(this.map((v,i)=>v-Math.floor(v))) \t\t\n\t\t}\n\t\tmin(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>(v<tgt[i])?v:tgt[i])) \t\t\t\n\t\t}\n\t\tmax(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>(v>tgt[i])?v:tgt[i])) \t\t\t\n\t\t}\n\t\tclamp(min,max) {\n\t\t\treturn new Vector(this.map((v,i)=>(v<min)?min:(v>max)?max:v)) \t\t\t\n\t\t}\n\t\tstep(th) {\n\t\t\treturn new Vector(this.map((v,i)=>(v<th)?0:1)) \t\t\t\n\t\t}\n\t\tmod(a) {\n\t\t\treturn new Vector(this.map((v,i)=>v % a)) \t\t\n\t\t}\n\t//return float\n\t\tdot(vec) {\n\t\t\treturn this.reduce((a,v,i)=>a+=v*vec[i],0)\n\t\t}\n\t\tdistance(vec) {\n\t\t\tlet v = new Vector(...this)\n\t\t\treturn v.sub(vec).hypot()\n\t\t}\n\t\thypot() {\n\t\t\treturn Math.hypot(...this)\n\t\t}\n\t// return bool\n\t\tequal(vec) {\n\t\t\treturn this.reduce((a,v,i)=>a && v===vec[i],true)\n\t\t}\n\t}\n\n\treturn poxp.Vector = Vector; \n});"]}
{"version":3,"sources":["Vector.js"],"names":["define","pox","Vector","Array","[object Object]","args","v","isArray","super","this","_setxyz","x","undefined","y","z","w","_x","_y","_z","_w","r","g","b","a","xy","yx","xz","zx","yz","zy","xyz","xzy","yxz","yzx","zxy","zyx","rgb","vec","length","ratio","map","i","tgt","fill","l","hypot","Math","floor","ceil","min","max","th","reduce","sub"],"mappings":";;;;;;;AAAAA,QACI,SACF,SAASC,SACJC,UAAeC,MACpBC,eAAeC,GACd,IAAIC,EAAID,EACLF,MAAMI,QAAQF,EAAK,MAAKC,EAAID,EAAK,IACpCG,SAASF,GACTG,KAAKC,UAENN,UACCK,KAAKE,EAAIF,KAAK,QACDG,IAAVH,KAAK,KAAgBA,KAAKI,EAAIJ,KAAK,SACzBG,IAAVH,KAAK,KAAgBA,KAAKK,EAAIL,KAAK,SACzBG,IAAVH,KAAK,KAAgBA,KAAKM,EAAIN,KAAK,IAEvCE,MAAML,GAAIG,KAAKO,GAAKV,EAAEG,KAAK,GAAKH,EAChCO,MAAMP,GAAIG,KAAKQ,GAAKX,EAAEG,KAAK,GAAKH,EAChCQ,MAAMR,GAAIG,KAAKS,GAAKZ,EAAEG,KAAK,GAAKH,EAChCS,MAAMT,GAAIG,KAAKU,GAAKb,EAAEG,KAAK,GAAKH,EAChCc,MAAMd,GAAIG,KAAKO,GAAKV,EAAEG,KAAK,GAAKH,EAChCe,MAAMf,GAAIG,KAAKQ,GAAKX,EAAEG,KAAK,GAAKH,EAChCgB,MAAMhB,GAAIG,KAAKS,GAAKZ,EAAEG,KAAK,GAAKH,EAChCiB,MAAMjB,GAAIG,KAAKU,GAAKb,EAAEG,KAAK,GAAKH,EAChCK,QAAU,OAAOF,KAAKO,GACtBH,QAAU,OAAOJ,KAAKQ,GACtBH,QAAU,OAAOL,KAAKS,GACtBH,QAAU,OAAON,KAAKU,GACtBC,QAAU,OAAOX,KAAKO,GACtBK,QAAU,OAAOZ,KAAKQ,GACtBK,QAAU,OAAOb,KAAKS,GACtBK,QAAU,OAAOd,KAAKU,GAEtBK,SAAW,OAAO,IAAItB,EAAOO,KAAK,GAAGA,KAAK,IAC1CgB,SAAW,OAAO,IAAIvB,EAAOO,KAAK,GAAGA,KAAK,IAC1CiB,SAAW,OAAO,IAAIxB,EAAOO,KAAK,GAAGA,KAAK,IAC1CkB,SAAW,OAAO,IAAIzB,EAAOO,KAAK,GAAGA,KAAK,IAC1CmB,SAAW,OAAO,IAAI1B,EAAOO,KAAK,GAAGA,KAAK,IAC1CoB,SAAW,OAAO,IAAI3B,EAAOO,KAAK,GAAGA,KAAK,IAC1CqB,UAAY,OAAO,IAAI5B,EAAOO,KAAK,GAAGA,KAAK,GAAGA,KAAK,IACnDsB,UAAY,OAAO,IAAI7B,EAAOO,KAAK,GAAGA,KAAK,GAAGA,KAAK,IACnDuB,UAAY,OAAO,IAAI9B,EAAOO,KAAK,GAAGA,KAAK,GAAGA,KAAK,IACnDwB,UAAY,OAAO,IAAI/B,EAAOO,KAAK,GAAGA,KAAK,GAAGA,KAAK,IACnDyB,UAAY,OAAO,IAAIhC,EAAOO,KAAK,GAAGA,KAAK,GAAGA,KAAK,IACnD0B,UAAY,OAAO,IAAIjC,EAAOO,KAAK,GAAGA,KAAK,GAAGA,KAAK,IACnD2B,UAAY,OAAO,IAAIlC,EAAOO,KAAK,GAAGA,KAAK,GAAGA,KAAK,IAEnDL,MAAMiC,GACL,GAAgB,GAAb5B,KAAK6B,QAAyB,GAAZD,EAAIC,OAAY,MAAO,EAC5C,IAAIlB,GACHX,KAAK,GAAG4B,EAAI,GAAK5B,KAAK,GAAK4B,EAAI,GAC/B5B,KAAK,GAAG4B,EAAI,GAAK5B,KAAK,GAAK4B,EAAI,GAC/B5B,KAAK,GAAG4B,EAAI,GAAK5B,KAAK,GAAK4B,EAAI,IAEhC,OAAO,IAAInC,EAAOkB,GAEnBhB,IAAIiC,EAAKE,GACR,OAAO,IAAIrC,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAInC,GAAG,EAAEiC,GAAOF,EAAII,GAAGF,IAGtDnC,SACC,OAAO,IAAIF,EAAOO,KAAK+B,IAAIlC,IAAIA,IAEhCF,IAAIsC,GAEH,GADIvC,MAAMI,QAAQmC,KAAMA,EAAM,IAAIvC,MAAMM,KAAK6B,QAAQK,KAAKD,IACvDjC,KAAK6B,QAAQI,EAAIJ,OAAQ,MAAO,EACnC,OAAO,IAAIpC,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAInC,EAAEoC,EAAID,KAEzCrC,IAAIsC,GAEH,GADIvC,MAAMI,QAAQmC,KAAMA,EAAM,IAAIvC,MAAMM,KAAK6B,QAAQK,KAAKD,IACvDjC,KAAK6B,QAAQI,EAAIJ,OAAQ,MAAO,EACnC,OAAO,IAAIpC,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAInC,EAAEoC,EAAID,KAEzCrC,KAAKsC,GAEJ,OADIvC,MAAMI,QAAQmC,KAAMA,EAAM,IAAIvC,MAAMM,KAAK6B,QAAQK,KAAKD,IACnD,IAAIxC,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAInC,EAAEoC,EAAID,KAEzCrC,YACC,IAAIwC,EAAInC,KAAKoC,QACb,OAAO,IAAI3C,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAQ,GAAHG,EAAMtC,EAAEsC,EAAE,IAE9CxC,QACC,OAAO,IAAIF,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAIK,KAAKC,MAAMzC,KAE9CF,OACC,OAAO,IAAIF,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAIK,KAAKE,KAAK1C,KAE7CF,QACC,OAAO,IAAIF,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAInC,EAAEwC,KAAKC,MAAMzC,KAEhDF,IAAIsC,GAEH,OADIvC,MAAMI,QAAQmC,KAAMA,EAAM,IAAIvC,MAAMM,KAAK6B,QAAQK,KAAKD,IACnD,IAAIxC,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAKnC,EAAEoC,EAAID,GAAInC,EAAEoC,EAAID,KAEpDrC,IAAIsC,GAEH,OADIvC,MAAMI,QAAQmC,KAAMA,EAAM,IAAIvC,MAAMM,KAAK6B,QAAQK,KAAKD,IACnD,IAAIxC,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAKnC,EAAEoC,EAAID,GAAInC,EAAEoC,EAAID,KAEpDrC,MAAM6C,EAAIC,GACT,OAAO,IAAIhD,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAKnC,EAAE2C,EAAKA,EAAK3C,EAAE4C,EAAKA,EAAI5C,IAE3DF,KAAK+C,GACJ,OAAO,IAAIjD,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAKnC,EAAE6C,EAAI,EAAE,IAE5C/C,IAAImB,GACH,OAAO,IAAIrB,EAAOO,KAAK+B,IAAI,CAAClC,EAAEmC,IAAInC,EAAIiB,IAGvCnB,IAAIiC,GACH,OAAO5B,KAAK2C,OAAO,CAAC7B,EAAEjB,EAAEmC,IAAIlB,GAAGjB,EAAE+B,EAAII,GAAG,GAEzCrC,SAASiC,GAER,OADQ,IAAInC,KAAUO,MACb4C,IAAIhB,GAAKQ,QAEnBzC,QACC,OAAO0C,KAAKD,SAASpC,MAGtBL,MAAMiC,GACL,OAAO5B,KAAK2C,OAAO,CAAC7B,EAAEjB,EAAEmC,IAAIlB,GAAKjB,IAAI+B,EAAII,IAAG,IAI9C,OAAOxC,EAAIC,OAASA","file":"../Vector.js","sourcesContent":["define([\n    \"./pox\"\n],function(pox){\n\tclass Vector extends Array {\n\t\tconstructor(...args) {\n\t\t\tlet v = args \n\t\t\tif(Array.isArray(args[0])) v = args[0]\n\t\t\tsuper(...v)\n\t\t\tthis._setxyz()\n\t\t}\n\t\t_setxyz() {\n\t\t\tthis.x = this[0]\n\t\t\tif(this[1]!==undefined) this.y = this[1]\n\t\t\tif(this[2]!==undefined) this.z = this[2] \n\t\t\tif(this[3]!==undefined) this.w = this[3]\t\n\t\t}\n\t\tset x(v) {this._x = v,this[0] = v}\n\t\tset y(v) {this._y = v,this[1] = v}\n\t\tset z(v) {this._z = v,this[2] = v}\n\t\tset w(v) {this._w = v,this[3] = v}\n\t\tset r(v) {this._x = v,this[0] = v}\n\t\tset g(v) {this._y = v,this[1] = v}\n\t\tset b(v) {this._z = v,this[2] = v}\n\t\tset a(v) {this._w = v,this[3] = v}\n\t\tget x() { return this._x}\n\t\tget y() { return this._y}\n\t\tget z() { return this._z}\n\t\tget w() { return this._w}\n\t\tget r() { return this._x}\n\t\tget g() { return this._y}\n\t\tget b() { return this._z}\n\t\tget a() { return this._w}\n\t//retrun new vector\n\t\tget xy() { return new Vector(this[0],this[1])}\n\t\tget yx() { return new Vector(this[1],this[0])}\n\t\tget xz() { return new Vector(this[0],this[2])}\n\t\tget zx() { return new Vector(this[2],this[0])}\n\t\tget yz() { return new Vector(this[1],this[2])}\n\t\tget zy() { return new Vector(this[2],this[1])}\n\t\tget xyz() { return new Vector(this[0],this[1],this[2])}\n\t\tget xzy() { return new Vector(this[0],this[2],this[1])}\n\t\tget yxz() { return new Vector(this[1],this[0],this[2])}\n\t\tget yzx() { return new Vector(this[1],this[2],this[0])}\n\t\tget zxy() { return new Vector(this[2],this[0],this[1])}\n\t\tget zyx() { return new Vector(this[2],this[1],this[0])}\n\t\tget rgb() { return new Vector(this[0],this[1],this[2])}\n\n\t\tcross(vec) {\n\t\t\tif(this.length!=3 || vec.length!=3 ) throw -1 \n\t\t\tlet r = [\n\t\t\t\tthis[1]*vec[2] - this[2] * vec[1],\n\t\t\t\tthis[2]*vec[0] - this[0] * vec[2],\n\t\t\t\tthis[0]*vec[1] - this[1] * vec[0] \n\t\t\t\t]\n\t\t\treturn new Vector(r) \n\t\t}\n\t\tmix(vec ,ratio ) {\n\t\t\treturn new Vector(this.map((v,i)=>v*(1-ratio)+vec[i]*ratio)) \n\t\t}\n\n\t\tinvert() {\n\t\t\treturn new Vector(this.map(v=>-v)) \n\t\t}\n\t\tadd(tgt) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\tif(this.length!=tgt.length) throw -1\n\t\t\treturn new Vector(this.map((v,i)=>v+tgt[i])) \n\t\t}\n\t\tsub(tgt) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\tif(this.length!=tgt.length) throw -1\n\t\t\treturn new Vector(this.map((v,i)=>v-tgt[i])) \n\t\t}\n\t\tmult(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>v*tgt[i])) \t\n\t\t}\n\t\tnormalize() {\n\t\t\tlet l = this.hypot() \n\t\t\treturn new Vector(this.map((v,i)=>(l!=0)?v/l:0)) \n\t\t}\n\t\tfloor() {\n\t\t\treturn new Vector(this.map((v,i)=>Math.floor(v))) \t\n\t\t}\n\t\tceil() {\n\t\t\treturn new Vector(this.map((v,i)=>Math.ceil(v))) \t\t\n\t\t}\n\t\tfract() {\n\t\t\treturn new Vector(this.map((v,i)=>v-Math.floor(v))) \t\t\n\t\t}\n\t\tmin(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>(v<tgt[i])?v:tgt[i])) \t\t\t\n\t\t}\n\t\tmax(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>(v>tgt[i])?v:tgt[i])) \t\t\t\n\t\t}\n\t\tclamp(min,max) {\n\t\t\treturn new Vector(this.map((v,i)=>(v<min)?min:(v>max)?max:v)) \t\t\t\n\t\t}\n\t\tstep(th) {\n\t\t\treturn new Vector(this.map((v,i)=>(v<th)?0:1)) \t\t\t\n\t\t}\n\t\tmod(a) {\n\t\t\treturn new Vector(this.map((v,i)=>v % a)) \t\t\n\t\t}\n\t//return float\n\t\tdot(vec) {\n\t\t\treturn this.reduce((a,v,i)=>a+=v*vec[i],0)\n\t\t}\n\t\tdistance(vec) {\n\t\t\tlet v = new Vector(...this)\n\t\t\treturn v.sub(vec).hypot()\n\t\t}\n\t\thypot() {\n\t\t\treturn Math.hypot(...this)\n\t\t}\n\t// return bool\n\t\tequal(vec) {\n\t\t\treturn this.reduce((a,v,i)=>a && v===vec[i],true)\n\t\t}\n\t}\n\n\treturn pox.Vector = Vector; \n});"]}